{\bfseries R\-A\-P\-P Platform Web Services} are developed under the \href{https://github.com/manuel-serrano/hop}{\tt H\-O\-P web broker}. These services are used in order to communicate with the R\-A\-P\-P Platform ecosystem and access R\-I\-C(\-R\-A\-P\-P Improvement Center) A\-I modules.

\begin{TabularC}{2}
\hline
\rowcolor{lightgray}\PBS\centering {\bf Platform Services }&\PBS\centering {\bf Description  }\\\cline{1-2}
\PBS\centering face\-\_\-detection &\PBS\centering Performs face detection on given input image frame \\\cline{1-2}
\PBS\centering qr\-\_\-detection &\PBS\centering Performs face detection on given input image frame \\\cline{1-2}
\PBS\centering text\-\_\-to\-\_\-speech &\PBS\centering Performs text-\/to-\/speech on given input plain text \\\cline{1-2}
\PBS\centering denoise\-\_\-profile &\PBS\centering Used in order to perform given user's audio profile \\\cline{1-2}
\PBS\centering speech\-\_\-detection\-\_\-sphix4 &\PBS\centering Performs speech-\/detection using the Platform integrated Sphinx4 engine \\\cline{1-2}
\PBS\centering speech\-\_\-detection\-\_\-google &\PBS\centering Performs speech-\/detection using the Platform integrated Google engine \\\cline{1-2}
\PBS\centering available\-\_\-services &\PBS\centering Returns a list of the Platform available services (up-\/to-\/date) \\\cline{1-2}
\PBS\centering ontology\-\_\-subclasses\-\_\-of &\PBS\centering Perform Ontology, subclasses-\/of, query \\\cline{1-2}
\PBS\centering ontology\-\_\-superclasses\-\_\-of &\PBS\centering Perform Ontology, superclasses-\/of, query \\\cline{1-2}
\PBS\centering ontology\-\_\-is\-\_\-supsuperclass\-\_\-of &\PBS\centering Perform Ontology, is-\/subsuperclass-\/of, query \\\cline{1-2}
\PBS\centering cognitive\-\_\-test\-\_\-chooser &\PBS\centering Returns a Cognitive Exercise literal that describes the test \\\cline{1-2}
\PBS\centering record\-\_\-cognitive\-\_\-test\-\_\-performance &\PBS\centering Record user's performance on given Cognitive Exercise \\\cline{1-2}
\end{TabularC}


\subsection*{Services}

\paragraph*{Q\-R-\/\-Detection}

```javascript qr\-\_\-detection ( \{file\-\_\-uri\-: ''\} ) ```

\subparagraph*{Input parameters}


\begin{DoxyItemize}
\item file\-\_\-uri\-: Destination where the posted file data ({\bfseries image file}) are saved by hop-\/server. Data are posted using a multipart/form-\/data post request using this field. e.\-g.
\end{DoxyItemize}

```python file = \{'file\-\_\-uri'\-: open($<$to-\/send-\/file-\/path$>$, 'rb')\} ```

\subparagraph*{Response/\-Return-\/\-Data}

The returned data are in {\itshape J\-S\-O\-N} representation. A J\-S\-O\-N.\-load() from client side must follow in order to decode the received data.

```javascript \{ qr\-\_\-centers\-: \mbox{[}\mbox{]}, qr\-\_\-messages\-: \mbox{[}\mbox{]}, error\-: '' \} ```


\begin{DoxyItemize}
\item qr\-\_\-centers\-: Vector that containes points (x,y) of found Q\-R in an image frame.
\item qr\-\_\-messages\-: Vector that containes message descriptions of found Q\-R in an image frame.
\item error\-: If error was encountered, an error message is pushed in this field and returned to the client.
\end{DoxyItemize}

Response Sample\-:

```javascript \{ qr\-\_\-centers\-: \mbox{[} \{ y\-: 165, x\-: 165 \} \mbox{]}, qr\-\_\-messages\-: \mbox{[}'rapp project qr sample'\mbox{]}, error\-: '' \} ```

\paragraph*{Face-\/\-Detection}

```javascript face\-\_\-detection ( \{file\-\_\-uri\-: ''\} ) ```

\subparagraph*{Input parameters}


\begin{DoxyItemize}
\item file\-\_\-uri\-: Destination where the posted file data ({\bfseries image file}) are saved by hop-\/server. Data are posted using a multipart/form-\/data post request using this field. e.\-g.
\end{DoxyItemize}

```python file = \{'file\-\_\-uri'\-: open($<$to-\/send-\/file-\/path$>$, 'rb')\} ```

\subparagraph*{Response/\-Return-\/\-Data}

The returned data are in {\itshape J\-S\-O\-N} representation. A J\-S\-O\-N.\-load() from client side must follow in order to decode the received data.

```javascript \{ faces\-: \mbox{[}\{ up\-\_\-left\-\_\-point\-: \{\}, down\-\_\-right\-\_\-point\-: \{\} \}\mbox{]}, error\-: '' \} ```

Point coordinates are presented in Cartesian Coordinate System as\-:

```javascript \{x\-: $<$value\-\_\-int$>$, y\-: $<$value\-\_\-int$>$\} ```


\begin{DoxyItemize}
\item faces\-: Dynamic vector that contains recognized faces in an image frame.
\item up\-\_\-left\-\_\-point\-: This Object literal contains the up-\/left point coordinates of detected face.
\item up\-\_\-left\-\_\-point\-: This Object literal contains the down-\/right point coordinates of detected face.
\item error\-: If error was encountered, an error message is pushed in this field and returned to the client.
\end{DoxyItemize}

Response Sample\-:

```javascript \{ faces\-: \mbox{[}\{ up\-\_\-left\-\_\-point\-: \{ y\-: 200, x\-: 212 \}, down\-\_\-right\-\_\-point\-: \{ y\-: 379, x\-: 391 \} \}\mbox{]}, error\-: '' \} ```

\subsection*{\#\#\# Speech Detection related services. }

\paragraph*{Denoise Audio Profile}

```javascript set\-\_\-denoise\-\_\-profile ( \{file\-\_\-uri\-: '', audio\-\_\-source\-: '', user\-: ''\} ) ```

\subparagraph*{Input parameters}


\begin{DoxyItemize}
\item $\ast$$\ast$'file\-\_\-uri'$\ast$$\ast$\-: Destination where the posted file data ({\bfseries audio data file}) are saved by hop-\/server. Data are posted using a multipart/form-\/data post request using this field. e.\-g.
\end{DoxyItemize}

```python file = \{'file\-\_\-uri'\-: open($<$to-\/send-\/file-\/path$>$, 'rb')\} ```


\begin{DoxyItemize}
\item $\ast$$\ast$'audio\-\_\-source'$\ast$$\ast$\-: A value that presents the $<$robot$>$\-\_\-$<$encode$>$\-\_\-$<$channels$>$ information for the audio source data. e.\-g \char`\"{}nao\-\_\-wav\-\_\-1\-\_\-ch\char`\"{}.
\item $\ast$$\ast$'user'$\ast$$\ast$\-: User’s name. Used for per-\/user profile denoise configurations.
\end{DoxyItemize}

\subparagraph*{Response/\-Return-\/\-Data}

The returned data are in {\itshape J\-S\-O\-N} representation. A J\-S\-O\-N.\-load() from client side must follow in order to decode the received data.

```javascript \{ error\-: '$<$error\-\_\-message$>$' \} ```


\begin{DoxyItemize}
\item error\-: If error was encountered, an error message is pushed in this field and returned to the client.
\end{DoxyItemize}

```javascript \{ error\-:\char`\"{}\-R\-A\-P\-P Platform Failure!\char`\"{} \} ```

\paragraph*{Speech-\/\-Detection-\/\-Sphinx4}

```javascript speech\-\_\-detection\-\_\-sphinx4 ( \{ file\-\_\-uri\-: '', language\-: '', audio\-\_\-source\-: '', words\-: \mbox{[}\mbox{]}, sentences\-: \mbox{[}\mbox{]}, grammar\-: \mbox{[}\mbox{]}, user\-: ''\}) ```

\subparagraph*{Input parameters}


\begin{DoxyItemize}
\item $\ast$$\ast$'file\-\_\-uri'$\ast$$\ast$\-: Destination where the posted file data ({\bfseries audio data file}) are saved by hop-\/server. Data are posted using a multipart/form-\/data post request using this field. e.\-g.
\end{DoxyItemize}

```python file = \{'file\-\_\-uri'\-: open($<$to-\/send-\/file-\/path$>$, 'rb')\} ```


\begin{DoxyItemize}
\item $\ast$$\ast$'language'$\ast$$\ast$\-: Language to be used by the speech\-\_\-detection\-\_\-sphinx4 module. Currently valid language values are ‘gr’ for Greek and ‘en’ for English.
\item $\ast$$\ast$'audio\-\_\-source'$\ast$$\ast$\-: A value that presents the $<$robot$>$\-\_\-$<$encode$>$\-\_\-$<$channels$>$ information for the audio source data. e.\-g \char`\"{}nao\-\_\-wav\-\_\-1\-\_\-ch\char`\"{}.
\item $\ast$$\ast$'words\mbox{[}\mbox{]}'$\ast$$\ast$\-: A vector that carries the words to search for into the voice-\/audio-\/source.
\item $\ast$$\ast$'sentences\mbox{[}\mbox{]}'$\ast$$\ast$\-: The under consideration sentences.
\item $\ast$$\ast$'grammar\mbox{[}\mbox{]}'$\ast$$\ast$\-: Grammars to use in speech recognition.
\item $\ast$$\ast$'user'$\ast$$\ast$\-: User’s name. Used for per-\/user profile denoise configurations.
\end{DoxyItemize}

\subparagraph*{Response/\-Return-\/\-Data}

The returned data are in {\itshape J\-S\-O\-N} representation. A J\-S\-O\-N.\-load() from client side must follow in order to decode the received data.

```javascript \{ words\-: \mbox{[}\mbox{]}, error\-: '$<$error\-\_\-message$>$' \} ```


\begin{DoxyItemize}
\item $\ast$$\ast$'error'$\ast$$\ast$\-: If error was encountered, an error message is pushed in this field and returned to the client.
\item $\ast$$\ast$'words\mbox{[}\mbox{]}'$\ast$$\ast$\-: A vector that contains the \char`\"{}words-\/found\char`\"{}
\end{DoxyItemize}

\paragraph*{Speech-\/\-Detection-\/\-Google}

```javascript speech\-\_\-detection\-\_\-sphinx4 ( \{ file\-\_\-uri\-: '', audio\-\_\-source\-: '', user\-: '', language\-: ''\} ) ```

\subparagraph*{Input parameters}


\begin{DoxyItemize}
\item $\ast$$\ast$'file\-\_\-uri'$\ast$$\ast$\-: Destination where the posted file data ({\bfseries audio data file}) are saved by hop-\/server. Data are posted using a multipart/form-\/data post request using this field. e.\-g.
\end{DoxyItemize}

```python file = \{'file\-\_\-uri'\-: open($<$to-\/send-\/file-\/path$>$, 'rb')\} ```


\begin{DoxyItemize}
\item $\ast$$\ast$'language'$\ast$$\ast$\-: Language to be used by the speech\-\_\-detection\-\_\-sphinx4 module. Currently valid language values are ‘gr’ for Greek and ‘en’ for English.
\item $\ast$$\ast$'audio\-\_\-source'$\ast$$\ast$\-: A value that presents the \{robot\}\-\_\-\{encode\}\-\_\-\{channels\} information for the audio source data. e.\-g \char`\"{}nao\-\_\-wav\-\_\-1\-\_\-ch\char`\"{}.
\item $\ast$$\ast$'user'$\ast$$\ast$\-: User’s name. Used for per-\/user profile denoise configurations.
\end{DoxyItemize}

\subparagraph*{Response/\-Return-\/\-Data}

The returned data are in {\itshape J\-S\-O\-N} representation. A J\-S\-O\-N.\-load() from client side must follow in order to decode the received data.

```javascript \{ words\-: \mbox{[}\mbox{]}, alternatives\-: \mbox{[}\mbox{]} error\-: '$<$error\-\_\-message$>$' \} ```


\begin{DoxyItemize}
\item $\ast$$\ast$'error'$\ast$$\ast$\-: If error was encountered, an error message is pushed in this field and returned to the client.
\item $\ast$$\ast$'words\mbox{[}\mbox{]}'$\ast$$\ast$\-: A vector that contains the \char`\"{}words-\/found\char`\"{} with highest confidence.
\item $\ast$$\ast$'alternatives\mbox{[}\mbox{[}\mbox{]}\mbox{]}'$\ast$$\ast$\-: Alternative sentences. e.\-g. \mbox{[}\mbox{[}'send', 'mail'\mbox{]}, \mbox{[}'send', 'email'\mbox{]}, \mbox{[}'set', 'mail'\mbox{]}...\mbox{]}
\end{DoxyItemize}

\subsection*{\#\#\# Ontology related services. }

The following Platform services give access to the Platform integrated Ontology system.

\paragraph*{Ontology-\/\-Sub\-Classes-\/\-Of}

```javascript ontology\-\_\-subclasses\-\_\-of ( \{ query\-: ''\} ) ```

\subparagraph*{Input parameters}


\begin{DoxyItemize}
\item $\ast$$\ast$'query'$\ast$$\ast$\-: The query to the ontology database.
\end{DoxyItemize}

\subparagraph*{Response/\-Return-\/\-Data}

The returned data are in {\itshape J\-S\-O\-N} representation. A J\-S\-O\-N.\-load() from client side must follow in order to decode the received data.

```javascript \{ results\-: \mbox{[}\mbox{]}, error\-: '$<$error\-\_\-message$>$' \} ```


\begin{DoxyItemize}
\item $\ast$$\ast$'results'$\ast$$\ast$\-: Query results returned from ontology database.
\item $\ast$$\ast$'error'$\ast$$\ast$\-: If error was encountered, an error message is pushed in this field and returned to the client.
\end{DoxyItemize}

```javascript \{ results\-: \mbox{[} '\href{http://knowrob.org/kb/knowrob.owl#Oven',}{\tt http\-://knowrob.\-org/kb/knowrob.\-owl\#\-Oven',} '\href{http://knowrob.org/kb/knowrob.owl#MicrowaveOven',}{\tt http\-://knowrob.\-org/kb/knowrob.\-owl\#\-Microwave\-Oven',} '\href{http://knowrob.org/kb/knowrob.owl#RegularOven',}{\tt http\-://knowrob.\-org/kb/knowrob.\-owl\#\-Regular\-Oven',} '\href{http://knowrob.org/kb/knowrob.owl#ToasterOven'}{\tt http\-://knowrob.\-org/kb/knowrob.\-owl\#\-Toaster\-Oven'}\mbox{]}, error\-: '' \} ```

\paragraph*{Ontology-\/\-Super\-Classes-\/\-Of}

```javascript ontology\-\_\-superclasses\-\_\-of ( \{ query\-: ''\} ) ```

\subparagraph*{Input parameters}


\begin{DoxyItemize}
\item $\ast$$\ast$'query'$\ast$$\ast$\-: The query to the ontology database.
\end{DoxyItemize}

\subparagraph*{Response/\-Return-\/\-Data}

The returned data are in {\itshape J\-S\-O\-N} representation. A J\-S\-O\-N.\-load() from client side must follow in order to decode the received data.

```javascript \{ results\-: \mbox{[}\mbox{]}, error\-: '$<$error\-\_\-message$>$' \} ```


\begin{DoxyItemize}
\item $\ast$$\ast$'results'$\ast$$\ast$\-: Query results returned from ontology database.
\item $\ast$$\ast$'error'$\ast$$\ast$\-: If error was encountered, an error message is pushed in this field and returned to the client.
\end{DoxyItemize}

\paragraph*{Ontology-\/\-Is-\/\-Sub\-Super\-Class-\/\-Of}

```javascript ontology\-\_\-is\-\_\-subsuperclass\-\_\-of ( \{ parent\-\_\-class\-: '', child\-\_\-class\-: '', recursive\-: false \} ) ```

\subparagraph*{Input parameters}


\begin{DoxyItemize}
\item $\ast$$\ast$'parent\-\_\-class'$\ast$$\ast$\-: The parent class name.
\item $\ast$$\ast$'child\-\_\-class'$\ast$$\ast$\-: The child class name.
\item $\ast$$\ast$'recursive'$\ast$$\ast$\-: Defines if a recursive procedure will be used (true/false).
\end{DoxyItemize}

\subparagraph*{Response/\-Return-\/\-Data}

The returned data are in {\itshape J\-S\-O\-N} representation. A J\-S\-O\-N.\-load() from client side must follow in order to decode the received data.

```javascript \{ results\-: Bool, error\-: '$<$error\-\_\-message$>$' \} ```


\begin{DoxyItemize}
\item $\ast$$\ast$'result'$\ast$$\ast$\-: Success index on ontology-\/is-\/subsupeclass-\/of query
\item $\ast$$\ast$'error'$\ast$$\ast$\-: If error was encountered, an error message is pushed in this field and returned to the client.
\end{DoxyItemize}

\subsection*{\#\#\# Text-\/\-To-\/\-Speech (tts) related services }

\paragraph*{Text-\/\-To-\/\-Speech}

```javascript text\-\_\-to\-\_\-speech( \{ text\-: '', language\-: ''\} ) ```

\subparagraph*{Input parameters}


\begin{DoxyItemize}
\item $\ast$$\ast$'text'$\ast$$\ast$\-: Input text to translate to audio data.
\item $\ast$$\ast$'language'$\ast$$\ast$\-: Language to be used for the T\-T\-S module. Valid values are currently {\bfseries el} and {\bfseries en}
\end{DoxyItemize}

\subparagraph*{Response/\-Return-\/\-Data}

The returned data are in {\itshape J\-S\-O\-N} representation. A J\-S\-O\-N.\-load() from client side must follow in order to decode the received data.

```javascript \{ payload\-: $<$audio\-\_\-data$>$, basename\-: $<$audio\-\_\-file\-\_\-basename$>$, encoding\-: $<$payload\-\_\-encoding$>$, error\-: $<$error\-\_\-message$>$ \} ```


\begin{DoxyItemize}
\item $\ast$$\ast$'payload'$\ast$$\ast$\-: The audio data payload. Payload encoding is defined by the 'encoding' json field. Decode the payload audio data (client-\/side) using the codec value from the 'encoding' field.
\item $\ast$$\ast$'encoding$\ast$$\ast$\-: Codec used to encode the audio data payload. Currently encoding of binary data is done using base64 codec. Ignore this field. May be used in future implementations.
\item $\ast$$\ast$'basename'$\ast$$\ast$\-: A static basename for the audio data file, returned by the platform service. Ignore this field. May be usefull in future implementations.
\item $\ast$$\ast$'error'$\ast$$\ast$\-: If error was encountered, an error message is pushed in this field.
\end{DoxyItemize}

\subsection*{\#\#\# Cognitive Exercises related services }

\paragraph*{Cognitive-\/\-Test-\/\-Selector}

```javascript cognitive\-\_\-test\-\_\-chooser( \{ user\-: '', test\-\_\-type\-: '' \} ) ```

\subparagraph*{Input parameters}


\begin{DoxyItemize}
\item $\ast$$\ast$'user'$\ast$$\ast$\-: Username of client used to retrieve information from database. e.\-g \char`\"{}klpanagi\char`\"{}
\item $\ast$$\ast$'test\-\_\-type'$\ast$$\ast$\-: Cognitive Exercise test type. Can be one of \mbox{[}'Arithmetic\-Cts', 'Awareness\-Cts', 'Reasoning\-Cts'\mbox{]}
\end{DoxyItemize}

\subparagraph*{Response/\-Return-\/\-Data}

The returned data are in {\itshape J\-S\-O\-N} representation. A J\-S\-O\-N.\-load() from client side must follow in order to decode the received data.

```javascript \{ questions\-: \mbox{[}\mbox{]}, possib\-\_\-ans\-: \mbox{[}\mbox{]}, correct\-\_\-ans\-: \mbox{[}\mbox{]}, test\-\_\-instance\-: '', test\-\_\-type\-: '', test\-\_\-subtype\-: '', error\-: '' \} ```


\begin{DoxyItemize}
\item $\ast$$\ast$'questions'$\ast$$\ast$\-: The exercise set of questions.
\item $\ast$$\ast$'possib\-\_\-ans'$\ast$$\ast$\-: The set of answers for each question. vector$<$vector$<$string$>$$>$
\item $\ast$$\ast$'correct\-\_\-ans'$\ast$$\ast$\-: The set of correct answers for each question. vector$<$string$>$
\item $\ast$$\ast$'test\-\_\-instance'$\ast$$\ast$\-: Returned test name. For example, 'Arithmetic\-Cts\-\_\-askw0\-Snwk'
\item $\ast$$\ast$'test\-\_\-type'$\ast$$\ast$\-: Cognitive exercise class/type. Documentation on Cognitive Exercise classes can be found \href{https://github.com/rapp-project/rapp-platform/tree/CognitiveSystem/rapp_cognitive_exercise}{\tt here}
\item $\ast$$\ast$'test\-\_\-subtype'$\ast$$\ast$\-: Cognitive exercise sub-\/type. Documentation on Subtypes can be found \href{https://github.com/rapp-project/rapp-platform/tree/CognitiveSystem/rapp_cognitive_exercise}{\tt here}
\item $\ast$$\ast$'error'$\ast$$\ast$\-: If error was encountered, an error message is pushed in this field.
\end{DoxyItemize}

\paragraph*{Cognitive-\/\-Test-\/\-Selector}

```javascript record\-\_\-cognitive\-\_\-test\-\_\-performance( \{ user\-: '', test\-\_\-instance\-: '', score\-: 0 \} ) ```

\subparagraph*{Input parameters}


\begin{DoxyItemize}
\item $\ast$$\ast$'user'$\ast$$\ast$\-: Username of client used to retrieve information from database. e.\-g \char`\"{}klpanagi\char`\"{}
\item $\ast$$\ast$'test\-\_\-instance'$\ast$$\ast$\-: Cognitive Exercise test instance. The full cognitive test entry name as reported by the {\bfseries cognitive\-\_\-test\-\_\-chooser()}.
\item $\ast$$\ast$'score'$\ast$$\ast$\-: User's performance score on given test entry.
\end{DoxyItemize}

\subparagraph*{Response/\-Return-\/\-Data}

The returned data are in {\itshape J\-S\-O\-N} representation. A J\-S\-O\-N.\-load() from client side must follow in order to decode the received data.

```javascript \{ performance\-\_\-entry\-: '', error\-: '' \} ```


\begin{DoxyItemize}
\item $\ast$$\ast$'performace\-\_\-entry'$\ast$$\ast$\-: User's cognitive test performance entry in ontology.
\item $\ast$$\ast$'error'$\ast$$\ast$\-: If error was encountered, an error message is pushed in this field.
\end{DoxyItemize}

\subsection*{\#\#\# Health -\/ R\-A\-P\-P Platform Status }

For R\-A\-P\-P developers.

\paragraph*{Rapp-\/\-Platform-\/\-Status}

```javascript rapp\-\_\-platform\-\_\-status() ```

Invoke this service from your favourite web browser\-:

```javascript $<$rapp\-\_\-platform\-\_\-pub\-\_\-ipaddr$>$/9001/hop/rapp\-\_\-platform\-\_\-status ``` 