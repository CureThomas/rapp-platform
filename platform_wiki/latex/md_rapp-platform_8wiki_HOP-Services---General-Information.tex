R\-A\-P\-P Improvement Center (R\-I\-C) nodes, can be utilized by robots via the R\-A\-P\-P Platform Web Services. The service layer has been developed using H\-O\-P. That consists of a web server implementation, an http/https server, and the web services developed in Hop.\-js framework. Web services run within server-\/side workers (web workers). A worker can include more than one web service. We consider server-\/side workers to be forked processes, thus allowing concurrent execution.

As H\-O\-P-\/\-Web-\/\-Services act as the interface layer between the Robot Platform and the Cloud Platform (along with the R\-A\-P\-P A\-P\-I), the development of those depends on both Client (User/\-Developer) and R\-I\-C requirements.

Web service responses are asynchronous http responses. This way we allow robot platforms to request for cloud services while performing other tasks.

Robot platforms can access R\-A\-P\-P Platform services using H\-T\-T\-P P\-O\-S\-T requests, as most of the services require an arbitrary amount of data to be sent to the Cloud for processing, like image and audio data files. H\-O\-P Web Server has been configured to accept application/x-\/www-\/urlencoded and $\ast$multipart/form-\/data form submissions.

The R\-A\-P\-P A\-P\-I, used from the client-\/side platform, integrates calls to the H\-O\-P Server and furthermore to the H\-O\-P Web Services. A H\-O\-P Web Service delegates service calls to the R\-A\-P\-P Services through the Rosbridge transport layer. Rosbridge Server provides a Web\-Socket transport layer to R\-O\-S and so it allows web clients to talk R\-O\-S using the rosbridge protocol. We use the Rosbridge Websocket Server in order to interfere with A\-I modules developed under R\-O\-S. That Web\-Socket server is not exposed to the public network and it is only accessible locally.

The communication workflow, from the client-\/side platform to R\-A\-P\-P Services can be severed into the following independent interface layers\-:


\begin{DoxyItemize}
\item Client-\/side Platform -\/$>$ H\-O\-P Server.
\item H\-O\-P Server -\/$>$ H\-O\-P Web Services.
\item H\-O\-P Web Services -\/$>$ Rosbridge Web\-Socket Server.
\item Rosbridge Web\-Socket Server -\/$>$ R\-A\-P\-P Services (R\-O\-S Services).
\end{DoxyItemize}

\mbox{[}\mbox{[}images/platform-\/comm-\/layers.\-png\mbox{]}\mbox{]}

Currently, H\-O\-P-\/\-Server is configured to act as an H\-T\-T\-P/\-H\-T\-T\-P\-S Web Server ({\bfseries Does not accept proxy connections}).

\subsection*{Deploy H\-O\-P Web Server}

First, go the rapp\-\_\-web\-\_\-services directory\-:

```shell \$ cd \$\{H\-O\-M\-E\}/rapp\-\_\-platform/rapp-\/platform-\/catkin-\/ws/src/rapp-\/platform/rapp\-\_\-web\-\_\-services ```

Install required dependencies\-:

```shell \$ npm install ```

For initiating H\-O\-P Web Server (and H\-O\-P Web Services), a grunt task exists\-:

```shell \$ grunt init-\/hop ```

H\-O\-P Web Server can also be deployed through the deploy\-\_\-web\-\_\-services.\-sh script

{\bfseries Note}\-: Do not change H\-O\-P Server configuration parameters, unless you know what you are doing!! 