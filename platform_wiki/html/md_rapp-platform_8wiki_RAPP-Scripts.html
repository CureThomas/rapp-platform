<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>RAPP Platform Wiki: RAPP-Scripts</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="RAPP_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">RAPP Platform Wiki
   &#160;<span id="projectnumber">v0.6.0</span>
   </div>
   <div id="projectbrief">RAPP Platform is a collection of ROS nodes and back-end processes that aim to deliver ready-to-use generic services to robots</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_rapp-platform_8wiki_RAPP-Scripts.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">RAPP-Scripts </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The <code>rapp_scripts</code> folder contains scripts necessary for operations related to the RAPP Platform. The scripts are divided into four folders:</p>
<h2>deploy</h2>
<p>There are two files aimed for deployment:</p>
<ul>
<li><code>deploy_rapp_ros.sh</code>: Deploys the RAPP Platform back-end, i.e. all the ROS nodes</li>
<li><code>deploy_hop_services.sh</code>: Deploys the corresponding HOP services</li>
</ul>
<p>If you want to deploy the RAPP Platform in the background you can use <code>screen</code>. Just follow the next steps:</p>
<ul>
<li><code>screen</code></li>
<li><code>./deploy_rapp_ros.sh</code></li>
<li>Press Ctrl + a + d to detach</li>
<li><code>screen</code></li>
<li><code>./deploy_hop_services</code></li>
<li>Press Ctrl + a + d to detach</li>
<li><code>screen -ls</code> to check that 2 screen sessions exist</li>
</ul>
<p>To reattach to screen session: ``` screen -r [pid.]tty.host ``` The screen step is for running rapp_ros and hop_services on detached terminals which is useful, for example in the case where you want to connect via ssh to a remote computer, launch the processes and keep them running even after closing the connection. Alternatively, you can open two terminals and run one script on each, without including the screen commands. It is imperative for the terminals to remain open for the processes to remain active.</p>
<p>Screen how-to: <a href="http://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/">http://www.rackaid.com/blog/linux-screen-tutorial-and-how-to/</a></p>
<h2>setup</h2>
<p>These scripts can be executed after a clean Ubuntu 14.04 installation, in order to install the appropriate packages and setup the environment.</p>
<h4>Step 0 - Get the scripts</h4>
<p>You can get the setup scripts either by downloading the rapp-platform-scripts repository in a <a href="https://github.com/rapp-project/rapp-platform-scripts/zipball/master">zip format</a>, or by cloning it in your PC using git:</p>
<p><code>git clone <a href="https://github.com/rapp-project/rapp-platform-scripts.git">https://github.com/rapp-project/rapp-platform-scripts.git</a></code></p>
<p>WARNING: At least 10 GB's of free space are recommended.</p>
<h4>Install RAPP Platform</h4>
<p>It is advised to execute the clean_install.sh script in a clean VM or clean system.</p>
<p>Performs:</p>
<ul>
<li>initial system updates</li>
<li>installs ROS Indigo</li>
<li>downloads all Github repositories needed</li>
<li>builds and install all repos (rapp_platform, knowrob, rosjava)</li>
<li>downloads builds and installs depending libraries for Sphinx4</li>
<li>installs MySQL</li>
<li>installs HOP</li>
</ul>
<h4>What you must do manually</h4>
<p>A new MySQL user was created with username = <code>dummyUser</code> and password = <code>changeMe</code> and was granted all on RappStore DB. It is highly recommended that you change the password and the username of the user. The username and password are stored in the file located at /etc/db_credentials. The file db_credentials is used by the RAPP platform services, be sure to update it with the correct username and password. It's first line is the username and it's second line the password.</p>
<h4>Setup in an existing system</h4>
<p>If you want to add rapp-platform to an already existent system (Ubuntu 14.04) you should choose which setup scripts you need to execute. For example if you have MySQL install you do not need to execute <code>8_mysql_install.sh</code>.</p>
<h4>Scripts</h4>
<ul>
<li><code>1_system_updates.sh</code>: Fetches the Ubuntu 14.04 updates and installs them</li>
<li><code>2_ros_setup.sh</code>: Installs ROS Indigo</li>
<li><code>3_auxiliary_packages_setup.sh</code>: Installs software from apt-get, necessary for the correct RAPP Platform deployment</li>
<li><code>4_rosjava_setup.sh</code>: Fetches a number of GitHub repositories and compiles rosjava. This is a dependency of Knowrob.</li>
<li><code>5_knowrob_setup.sh</code>: Fetches the Knowrob repository and builds it. Knowrob is the tool that deploys the RAPP ontology.</li>
<li><code>6_rapp_platform_setup.sh</code>: Fetches the rapp-platform and rapp-api repositories and builds them. This script has an input argument which is the git branch the rapp-platform will be checked out. If you decide to execute this script manually it is recommended to give <code>master</code> as input.</li>
<li><code>7_sphinx_libraries.sh</code>: Fetches the Sphinx4 necessary libraries, compiles them and installs them, Sphinx4 is used for ASR (Automatic Speech Recognition).</li>
<li><code>8_mysql_install.sh</code>: Installs MySQL</li>
<li><code>9_create_rapp_mysql_db.sh</code>: Adds the RAPP MySQL empty database in mysql</li>
<li><code>10_create_rapp_mysql_user.sh</code>: Creates a user to enable access the to database from the RAPP Platform code</li>
<li><code>11_hop_setup.sh</code>: Installs HOP and Bigloo, the tools providing the RAPP Platform generic services.</li>
<li><code>12_caffe_setup.sh</code>: Installs <a href="https://github.com/BVLC/caffe.git">Caffe.</a></li>
<li><code>13_authentication_setup.sh</code>: Installs authentication related information.</li>
</ul>
<h5>NOTES:</h5>
<p>The following notes concern the manual setup of rapp-platform (not the clean setup form our scripts):</p>
<ul>
<li>To compile <code>rapp_qr_detection</code> you must install the <code>libzbar</code> library</li>
<li>To compile <code>rapp_knowrob_wrapper</code> you must execute the following scripts:<ul>
<li><a href="https://github.com/rapp-project/rapp-platform-scripts/blob/master/setup/4_rosjava_setup.sh">https://github.com/rapp-project/rapp-platform-scripts/blob/master/setup/4_rosjava_setup.sh</a></li>
<li><a href="https://github.com/rapp-project/rapp-platform-scripts/blob/master/setup/5_knowrob_setup.sh">https://github.com/rapp-project/rapp-platform-scripts/blob/master/setup/5_knowrob_setup.sh</a></li>
<li><b>If you don't want interaction with the ontology, add an empty <code>CATKIN_IGNORE</code> file in the <code>rapp-platform/rapp_knowrob_wrapper/</code> folder</b></li>
</ul>
</li>
</ul>
<h2>documentation</h2>
<p>Scripts to automatically create documentation from the RAPP Platform code, the services and this wiki, using Doxygen. All documents can be bound in <code>${HOME}/rapp_platform_files/documentation</code>.</p>
<ul>
<li><code>create_source_documentation.sh</code> : Creates the platform's source code documentation (cpp, h, py, java).</li>
<li><code>create_wiki_documentation.sh</code> : Creates the platform's GitHub Wiki documentation.</li>
<li><code>create_test_documentation.py</code> : Creates the platform's test source code documentation.</li>
<li><code>create_web_services_documentation.sh</code> : Creates the rapp_web_services documentation.</li>
<li><code>create_documentation.sh</code> : Creates all aforementioned documentations.</li>
<li><code>update_rapp-project.github.io.sh</code> : Creates the documentation and pushes it in the <code>gh-pages</code> branch of rapp-platform, in order to update the online pages. NOTE: This is functional only when executed in the Travis environment, so do not try to run it!</li>
</ul>
<h2>utillities</h2>
<p>The following scripts are offered:</p>
<ul>
<li><code>dumpRAPPMysqlDatabase.sh</code>: Dumps the RAPP MySQL database in a .sql file</li>
<li><code>importRAPPMysqlDatabase.sh</code>: Imports the RAPP MySQL database from a .sql file</li>
<li><code>dumpRAPPOntology.sh</code>: Dumps the RAPP ontology in an .owl file</li>
<li><code>importRAPPOntology.sh</code>: Imports the RAPP ontology from an .owl file</li>
<li><code>create_rapp_user.sh</code>: Create and authenticate a new RAPP User. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Jul 22 2016 10:05:07 for RAPP Platform Wiki by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
